<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<!--Xây dựng hệ thống quản lý học viên-->
<button id="add" onclick="themVao()"> Thêm mới học viên </button>
<button id="edit" onclick="chinhSua()"> Sửa thông tin học viên </button>
<button id="delete" onclick="xoaHocVien()"> Xóa học viên </button>
<br> <br>
<div id="studenttable">

</div>
<script>
    class Student {
        constructor(id, name, classroom, email, date, module) {
            this.id = id;
            this.name = name;
            this.classroom = classroom;
            this.email = email;
            this.date = date;
            this.module = module;
        }
        getId(id){
            return this.id;
        }
        setId(newId){
          return this.newId = newId;
        }
        getName(){
            return this.name;
        }
        setName(newName){
            return this.newName = newName;
        }
        getClassroom(){
            return this.classroom;
        }
        setClassroom(newClassroom){
            return this.newClassroom = newClassroom;
        }
        getEmail(){
            return this.email;
        }
        setEmail(newEmail){
            return this.newEmail =  newEmail;
        }
        getDate(){
            return this.date;
        }
        setDate(newDate){
            return this.newDate = newDate;
        }
        getModule(){
            return this.module;
        }
        setModule(newModule){
            return this.newModule = newModule;
        }
    }

    let student1 = new Student("HV-001","Nguyễn Văn A","A122I1","nguyenvana@gmail.com","01/01/2021",1)
    let student2 = new Student("HV-002","Nguyễn Văn B","A122I2","nguyenvanb@gmail.com","12/03/2021",1)
    let student3 = new Student("HV-003","Nguyễn Văn C","A122I3","nguyenvanc@gmail.com","20/06/2021",1)
    let studentList = [student1,student2,student3];
    displayList(studentList);

    function displayList(list) {
        let table = "<table border='1'>" +
                "<tr>" +
                "<th> Mã số</th>" +
                "<th> Tên </th>" +
                "<th> Lớp </th>" +
                "<th> Email </th>" +
                "<th> Ngày sinh </th>" +
                "<th> Module </th>" +
                "</tr>"

        for (let i = 0; i < studentList.length ; i++) {
            table += "<tr>" +
                    "<td>"+ (studentList[i]).id + "</td>" +
                    "<td>"+ (studentList[i].name) + "</td>" +
                    "<td>"+ (studentList[i].classroom) + "</td>" +
                    "<td>"+ (studentList[i].email) + "</td>" +
                    "<td>"+ (studentList[i].date) + "</td>" +
                    "<td>"+ (studentList[i].module) + "</td>" +
                    "<tr>"
        }
        table += "</table>";
        document.getElementById('studenttable').innerHTML = table;
    }

    function xoaHocVien() {
        let idDelete = prompt("Nhap ma hoc vien muon xoa");
        for (let i = 0; i < studentList.length ; i++) {
            if (idDelete === studentList[i].id) {
                alert("ban co muon xoa hoc vien nay");
                studentList.splice(i,1);
                displayList(studentList);
            }
        }
    }

    function themVao() {
        let maSo = prompt("Nhap ma hoc vien (HV-XXX)");
        let ten = prompt("Nhap ten cua hoc sinh");
        let lop = prompt("Nhap lop hoc");
        let email = prompt("Nhap vao email cua hoc sinh")
        let birth = prompt("Nhap ngay sinh cua hoc sinh (dd/mm/yyyy)");
        let module = prompt("Nhap vao module dang hoc");
        let studentNew = new Student(maSo,ten,lop,email,birth,module);
        studentList.push(studentNew);
        displayList(studentList);
    }

    function chinhSua() {
        let edit = prompt("Nhap vao ma so hoc sinh muon chinh sua");
        for (let i = 0; i < studentList.length; i++) {
            if (edit === studentList[i].id) {
                let a = prompt("Nhap lai ten hoc sinh");
                studentList[i].setName(a);
                displayList(studentList);
                let b = prompt("Nhap lai lop hoc");
                studentList[i].setClassroom(b);
                displayList(studentList);
                let c = prompt("Nhap lai email cua hoc sinh");
                studentList[i].setEmail(c);
                displayList(studentList);
                let d = prompt("Nhap lai ngay sinh cua hoc sinh (dd/mm/yyyy)");
                studentList[i].setDate(d);
                displayList(studentList);
                let e = prompt("Nhap lai module");
                studentList[i].setModule(e);
                displayList(studentList);
            }
        }
    }

</script>
</body>
</html>